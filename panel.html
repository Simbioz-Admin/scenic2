<!doctype html>
<html lang="en">
<head>
    <title>Scenic2 - SAT</title>
    <!-- Load the script "js/main.js" as our entry point -->

    <!-- /**** CSS ****/ -->

	<link href="/js/libs/jqueryui/css/no-theme/jquery-ui-1.10.2.custom.min.css" rel="stylesheet" type="text/css" >
	<link href="/assets/css/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css" />
	<link href="/assets/css/stylesheets/print.css" media="print" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="http://fonts.typotheque.com/WF-015004-001436.css" type="text/css" />
    <link href="//netdna.bootstrapcdn.com/font-awesome/3.1.1/css/font-awesome.css" rel="stylesheet">

	 <!-- /**** JAVSCRIPT ****/ -->

    <script src="/socket.io/socket.io.js"></script>
    <script data-main="/js/main.js" src="/js/libs/require-jquery.js"></script>
    <script type="text/javascript">
    $(document).ready(function(){

        var socket = io.connect();

        $("#url").click(function()
        {
            socket.emit("openBrowser", true);
        });


        //choose for password
        $("#questionPass .yes").click(function()
        {
            $("#questionPass").animate({left : 340}, 300, function(){ $(this).remove()});
            $(".setPass").show().delay(300).animate({left : 80}, 300);

        });

        $("#questionPass .no").click(function(){
            $("#questionPass").animate({left : 340}, 300, function(){ $(this).remove()});
            $("#btnServer").show().delay(300).animate({left : 80});
        });

        $("#startServer").click(function()
        {
            if ($('#startServer').is(':checked')) {
                console.log("CHECK");

                socket.emit("statusScenic", true, function(address)
                {
                    $("#msg").animate({"width" : 0}, 200);
                    $("#url").animate({"width" : 215}, 200);
                    console.log($(".address").html(address));
                });
            }
            else
            {
                console.log("uncheck");
                socket.emit("statusScenic", false , function(){});

                $("#url").animate({"width" : 0}, 200);
                $("#msg").delay(400).animate({"width" : 180}, 200);
            }
        });

        $("#submitPass").click(function(){
            if($("#username").val() == "")
            {
                 $("#username").animate({borderColor : "red"}, 500).animate({borderColor : "#eee"}, 500).animate({borderColor : "red"}, 500).animate({borderColor : "#eee"}, 500);
            }
            else if($("#inputPass").val() == "")
            {
                $("#inputPass").animate({borderColor : "red"}, 500).animate({borderColor : "#eee"}, 500).animate({borderColor : "red"}, 500).animate({borderColor : "#eee"}, 500);
            }
            else if($("#inputConfirmPass").val() == "" )
            {
                 $("#inputConfirmPass").animate({borderColor : "red"}, 500).animate({borderColor : "#eee"}, 500).animate({borderColor : "red"}, 500).animate({borderColor : "#eee"}, 500);
            }else if($("#inputPass").val() != $("#inputConfirmPass").val())
            {
                alert("password different");
            }else
            {
            console.log($("#username").val(), $("#inputPass").val(), $("#inputConfirmPass").val());
                socket.emit("setPass", $("#username").val(),  $("#inputPass").val(), function()
                {
                    $(".setPass").animate({left : 340}, 300, function(){ $(this).remove()});
                    $("#btnServer").show().delay(300).animate({left : 80});
                });
            }

            return false;
        });

    });
        
    </script>
</head>
    <body class="scenic2 windowPanel">
        <header id="header">
            <div id="logo">SCENIC2</div>
            <br><br>
            
        </header>
        
        <div id="password">
            <div class="setPass">
                <form>
                    <input type="text" id="username" value="scenic2" >
                    <input type="password" id="inputPass" placeholder="password" >
                    <input type="password" id="inputConfirmPass" placeholder="confirm password">
                    <input type="submit" value="confirm" id="submitPass">
                </form>
            </div>

        </div>
        
        <div id="btnServer">
            <div class="switch">
                <input type="checkbox" id="startServer">
                <label><i class="icon-off"></i></label>
            </div> 

            <div id="url">open the interface
                <div class="address">http://localhost</div>
            </div>
            <div id="msg">start server</div>
        </div>

    </body>
</head>